# Perform necessary checks on Pull Request merge.
#
# (Start) â”€â”¬â”€ lint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ (Done)
#          â”œâ”€ ðŸš§ test â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#          â”œâ”€ build â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
#          â””â”€ build:storybook â”€â”€â”˜

name: CI

on: [pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: ./.github/actions/setup-node
      - name: Run Lint
        run: pnpm lint
  # FIXME: WIP Test flow
  # test:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/checkout@v4
  #     - name: Initialize
  #       uses: ./.github/actions/setup-node
  #     - name: Test
  #       run: pnpm test
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: ./.github/actions/setup-node
      - name: Run Build
        run: pnpm build

  build-storybook:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: ./.github/actions/setup-node
      - name: Run Build Storybook
        run: pnpm build:storybook
